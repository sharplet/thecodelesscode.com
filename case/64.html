<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" >
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
  <meta name="description" content="An illustrated collection of (sometimes violent) fables, concerning the Art and Philosophy of software development"></meta>
  <meta name="keywords" content="software, koans, software koans, computer, wisdom, zen, buddhism, the gateless gate, java"></meta>

<!-- Enable reponsive web design -->
<meta content="True" name="HandheldFriendly">




  <title>
    The Codeless Code:
    Case 64 Three Beggars  </title>
  <link rel="shortcut icon" href="/images/tcc-favicon.ico" ></link>
  <link rel="stylesheet" type="text/css"
	    id="tcc-css-link"
	    href="/css/tcc.css" ></link>



  <link rel="stylesheet" type="text/css"
	    id="tcc-contents-css-link"
	    href="/css/tcc-contents.css" ></link>
  <link rel="alternate" type="application/rss+xml"
        title="The Codeless Code (RSS)"
        href="http://thecodelesscode.com/rss" ></link>


  <link href='http://fonts.googleapis.com/css?family=Shadows+Into+Light|Shadows+Into+Light+Two|Quintessential' rel='stylesheet' type='text/css'>


  <script type="text/javascript"
          src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script type="text/javascript" src="/js/stickySidebar.js"></script>
  <script type="text/javascript" src="/js/dk.js?1"></script>

  <!-- Google Analytics, for website stats -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22171819-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>
<body>

   <table id="bodytable" class="layout">

    


      <tr id="toprow">
        <td colspan="2" id="topcircuits"><div id="tcc-case-title-box"><a href="/contents"><img id='tcc-case-title' src='/images/tcc-case-title-link.png' alt='tcc-case-title' width='364' height='58' onmouseover="DkNavMouseOver('tcc-case-title')" onmouseout="DkNavMouseOut('tcc-case-title')"/></a></div></td>
        </td>
      </tr>
      <tr id="bodyrow" >
        <td id="sidebar"
          ><img id="homecap" src="/images/homecap.png" alt=""
               width="155" height="93"
         /><table class="layout">
            <tr>
              <td colspan="2"
                ><a href="/contents"><img id='home' src='/images/home-link.png' alt='home' width='155' height='73' onmouseover="DkNavMouseOver('home')" onmouseout="DkNavMouseOut('home')"/></a></td>
            </tr>
            <tr>
              <td><a href="/case/63"><img id='prev' src='/images/prev-link.png' alt='prev' width='83' height='62' onmouseover="DkNavMouseOver('prev')" onmouseout="DkNavMouseOut('prev')"/></a></td>
              <td><a href="/case/65"><img id='next' src='/images/next-link.png' alt='next' width='72' height='62' onmouseover="DkNavMouseOver('next')" onmouseout="DkNavMouseOut('next')"/></a></td>
            </tr>
            <tr>
              <td colspan="2"
                ><a href="/case/random"><img id='random' src='/images/random-link.png' alt='random' width='155' height='73' onmouseover="DkNavMouseOver('random')" onmouseout="DkNavMouseOut('random')"/></a></td>
            </tr>


            <tr><td colspan="2"><img src="/images/leftcap.png" alt=""
                width=155 height=31/></td></tr>
            <tr><td colspan="2"><img src="/images/left.png" alt=""
                width=155 height=466/></td></tr>
            <tr><td colspan="2"><img src="/images/leftfoot.png" alt=""
                width=155 height=41/></td></tr>


            </table>
        </td>

        <td id="content" >
        <div id="topmenu">

          <div id="textmenu">
           <a href='/contents'>Contents</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/topics'>Topics</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/names'>Names</a><span class="barlong">&#x00A0;</span><a href='/case/first'>First</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/case/63'>Previous</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/case/65'>Next</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/case/last'>Last</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/case/random'>Random</a><span class="barlong">&#x00A0;</span><a href='/about'>About</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/rss'><span class='tiny-rssr'></span></a><span class="barlong">&#x00A0;</span>        </div>
        <div id="tinymenu">

           <span class="menu-group">
                <a href='/contents' title='Contents'>^</a>           </span>

           <span class="menu-group">
                <a href='/case/first' title='First'>|<</a>                <a href='/case/63' title='Previous'><</a>                <a href='/case/65' title='Next'>></a>                <a href='/case/last' title='Last'>>|</a>                <a href='/case/random' title='Random'>&#x2683;</a>           </span>

           <span class="menu-group">
                <a href='/about' title='About'><i>i</i></a>                <a href='/rss'><span class='tiny-rssr'></span></a>           </span>

        </div>


        <div id="langmenu"><span class='trans-menu-button' id='caseLangMenu-button' style='position:relative'>
<span id='caseLangMenu' class='trans popup'>
<a href='/case/64?lang=de&trans=rfen'><span class='trans-about'>German / Deutsch<br />Übersetzt von Robert Fendt</span><span class='trans-lang'>DE</span></a>
<a class='nolink'><span class='trans-about'>English<br />Original text by Qi</span><span class='trans-lang'>EN</span></a>
<a href='/case/64?lang=es&trans=galcalde'><span class='trans-about'>Spanish / Español<br />Traducido por Gonzalo Alcalde</span><span class='trans-lang'>ES</span></a>
<a href='/case/64?lang=fr&trans=cdlm'><span class='trans-about'>French / Français<br />Traduit par Damien Pollet</span><span class='trans-lang'>FR</span></a>
<a href='/case/64?lang=it&trans=alessandro1997'><span class='trans-about'>Italian / Italiano<br />Tradotto da Alessandro Desantis</span><span class='trans-lang'>IT</span></a>
<a href='/case/64?lang=ru&trans=smal'><span class='trans-about'>Russian / русский<br />Перевод Sergey Malenkov</span><span class='trans-lang'>RU</span></a>
<a href='/case/64?lang=zh&trans=zj'><span class='trans-about'>Chinese / 中国话<br />译者 Zhou Ji (吉州)</span><span class='trans-lang'>ZH</span></a>
<a href='/case/64?lang=zh&trans=zji'><span class='trans-about'>Chinese / 中国话<br />译者 zji</span><span class='trans-lang'>ZH</span></a>
</span>
<span class='tiny-trans' title='Translations' /></span>
</div>
    </div>



<div id="titles" ><div class='case-geekiness'>extremely geeky&nbsp;&nbsp;<span style="cursor:help" onclick="DkPopUpGeekinessHelp()" title="extremely geeky"><img src="/images/geek3.png" alt="extremely geeky" width="28" height="11" border="0" /></span></div><h2 class="supertitle"><a class='subtle' href='/contents'>Case 64</a></h2><h1 class="title"><a class='subtle' href='/contents'>Three Beggars</a></h1></div><div id="contenttext" class="contenttext" >


<div class='story koan'><p>Java master <a href='/names/Kaimu'>Kaimu</a> led three senior monks to the Hall Of
Endless Cubicles.  There he gathered three novices in
his charge.</p>

<p>“A utility method is needed which takes an employee ID and
from it constructs a particular URL,” said Kaimu.  “The logic
is not trivial, but ultimately it reduces to text substitution.”</p>

<img src="/pages/case-64/beggar-1.jpg" alt="" title="" class="illus-right" style="padding-right: 60px;"/>


<p>Kaimu gestured to the first old monk.  “This one works on
the persistence tier, where all database keys are large
integers.  Understandably, he wishes the method to take a
Long.”</p>

<p>Kaimu gestured to the second old monk.  “This one works on
the business tier, which employs strong typing.  He wishes
the method to take an EmployeeID object.”</p>

<p>Kaimu gestured to the third old monk.  “This one works on
the web tier, where all data is manipulated as text.  He
wishes the method to take a String.”</p>

<p>The master then bowed to the three monks, and bade the
novices offer their solutions.</p>

<img class="break" src="/images/hrule.png" alt="- - -" />

<p>The first novice stood.  “The method should take a String,
for that representation will be most useful within the
method itself.  As for the monks who prefer Long or
EmployeeID, they can easily invoke <i>toString</i> on those
objects and feed the result into the method.”</p>

<img src="/pages/case-64/beggar-2.jpg" alt="" title="" class="illus-right"/>


<p>Said Kaimu: “When the beggar squatting in the dirt asks you
for coins, you may well demand that he lift up his bowl to
meet you.  But what of the man with no elbows?”</p>

<p>Before the first novice could answer, the second stood.
“The apparent simplicity of invoking <i>toString</i> is hampered
by the caller’s need to check for null first.  So the method
should take an Object, which can hold any of the three
types.  The method itself can check for null, and invoke
<i>toString</i> only if it is safe to do so.  Thus, nothing is
required of the caller.”</p>

<p>Said Kaimu: “Knowing the armless beggar can only accept what
is placed on his tongue, you charitably go everywhere with
rice in your pockets.  Yet you toss your grains into
<i>anyone’s</i> mouth.  How glad you make the rats and magpies!”</p>

<p>The third novice stood.  “Three monks, three novices.  Why
not three methods, each taking a different type?
EmployeeID, Long, and String.  The first and second can
delegate to the third, and each can check for null.”</p>

<img src="/pages/case-64/beggar-3.jpg" alt="" title="I was *this* close to drawing them as the Three Stooges." class="illus-right" style="padding-right: 30px;"/>


<p>Said Kaimu: “Not a scrap for the rats in your village, but
how fat the beggars must be!  Yet if a method takes
four parameters, will you write it eighty-one different
ways?  You may waste so much time pleasing everyone that you
please no one.”</p>

<p>Kaimu then bade the senior monks depart, to let the novices
determine for themselves the best way to satisfy all
concerns.</p>

<img class="break" src="/images/hrule.png" alt="- - -" />

<p>The first old monk whispered as they went: “What approach will
be decided upon, do you think?”</p>

<p>The second old monk replied: “If they are anything like us, it
will be the one championed by the novice who shouts the loudest.”</p>

<p>The third old monk nodded. “Doubtless, some of us will find
fault with the solution, yet begrudgingly we will abide by
it, and the world will continue to turn.  But so it goes: we
are all of us beggars at each others’ feet.”
</p>

</div><div class='footerTags'><span class='footerTagsPrompt'>Topics</span>... &nbsp;<span class='footerTagList'><a href='/topics/overloading'>overloading</a>, <a href='/topics/polymorphism'>polymorphism</a>, <a href='/topics/null'>null</a>, <a href='/topics/strong+typing'>strong typing</a></span></div>
          <div id="copyright">

<p>
An excerpt from <i><a href='/contents'>The Codeless Code</a></i>, by Qi (<a href='mailto:qi@thecodelesscode.com'>qi@thecodelesscode.com</a>).</p>

<p>
     Provided under the      <a href="http://creativecommons.org/licenses/by-nc/3.0/"
      >Creative Commons Attribution-NonCommercial 3.0 Unported License.</a>
</p>


<div class='credits'><p><span class='star'>*</span>Some textures in illustrations courtesy of <a href="http://fantasystock.deviantart.com">FantasyStock</a>.</p></div>
            </div>

          </div>  <!-- #contenttext -->
        </td>  <!-- #content -->
      </tr>  <!-- #bodyrow -->
    </table>  <!-- #bodytable -->
  <div id="img_preload" style="display:none"><div style='display:none'><img src='/images/home.png'/><img src='/images/home-hover.png'/><img src='/images/home-link.png'/></div><div style='display:none'><img src='/images/prev.png'/><img src='/images/prev-hover.png'/><img src='/images/prev-link.png'/></div><div style='display:none'><img src='/images/next.png'/><img src='/images/next-hover.png'/><img src='/images/next-link.png'/></div><div style='display:none'><img src='/images/random.png'/><img src='/images/random-hover.png'/><img src='/images/random-link.png'/></div><div style='display:none'><img src='/images/tcc-case-title.png'/><img src='/images/tcc-case-title-hover.png'/><img src='/images/tcc-case-title-link.png'/></div><div style='display:none'><img src='/images/casemenuitem.png'/></div><div style='display:none'><img src='/images/casemenuitem-hover.png'/></div><div style='display:none'><img src='/images/casemenuitem-here.png'/></div><div style='display:none'><img src='/images/casemenuitem-help.png'/></div></div>
  </body>
</html>


