<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" >
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
  <meta name="description" content="An illustrated collection of (sometimes violent) fables, concerning the Art and Philosophy of software development"></meta>
  <meta name="keywords" content="software, koans, software koans, computer, wisdom, zen, buddhism, the gateless gate, java"></meta>

<!-- Enable reponsive web design -->
<meta content="True" name="HandheldFriendly">




  <title>
    The Codeless Code:
    Case 151 The Summer Scarf  </title>
  <link rel="shortcut icon" href="/images/tcc-favicon.ico" ></link>
  <link rel="stylesheet" type="text/css"
	    id="tcc-css-link"
	    href="/css/tcc.css" ></link>



  <link rel="stylesheet" type="text/css"
	    id="tcc-contents-css-link"
	    href="/css/tcc-contents.css" ></link>
  <link rel="alternate" type="application/rss+xml"
        title="The Codeless Code (RSS)"
        href="http://thecodelesscode.com/rss" ></link>


  <link href='http://fonts.googleapis.com/css?family=Shadows+Into+Light|Shadows+Into+Light+Two|Quintessential' rel='stylesheet' type='text/css'>


  <script type="text/javascript"
          src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script type="text/javascript" src="/js/stickySidebar.js"></script>
  <script type="text/javascript" src="/js/dk.js?1"></script>

  <!-- Google Analytics, for website stats -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22171819-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>
<body>

   <table id="bodytable" class="layout">

    


      <tr id="toprow">
        <td colspan="2" id="topcircuits"><div id="tcc-case-title-box"><a href="/contents"><img id='tcc-case-title' src='/images/tcc-case-title-link.png' alt='tcc-case-title' width='364' height='58' onmouseover="DkNavMouseOver('tcc-case-title')" onmouseout="DkNavMouseOut('tcc-case-title')"/></a></div></td>
        </td>
      </tr>
      <tr id="bodyrow" >
        <td id="sidebar"
          ><img id="homecap" src="/images/homecap.png" alt=""
               width="155" height="93"
         /><table class="layout">
            <tr>
              <td colspan="2"
                ><a href="/contents"><img id='home' src='/images/home-link.png' alt='home' width='155' height='73' onmouseover="DkNavMouseOver('home')" onmouseout="DkNavMouseOut('home')"/></a></td>
            </tr>
            <tr>
              <td><a href="/case/150"><img id='prev' src='/images/prev-link.png' alt='prev' width='83' height='62' onmouseover="DkNavMouseOver('prev')" onmouseout="DkNavMouseOut('prev')"/></a></td>
              <td><a href="/case/152"><img id='next' src='/images/next-link.png' alt='next' width='72' height='62' onmouseover="DkNavMouseOver('next')" onmouseout="DkNavMouseOut('next')"/></a></td>
            </tr>
            <tr>
              <td colspan="2"
                ><a href="/case/random"><img id='random' src='/images/random-link.png' alt='random' width='155' height='73' onmouseover="DkNavMouseOver('random')" onmouseout="DkNavMouseOut('random')"/></a></td>
            </tr>


            <tr><td colspan="2"><img src="/images/leftcap.png" alt=""
                width=155 height=31/></td></tr>
            <tr><td colspan="2"><img src="/images/left.png" alt=""
                width=155 height=466/></td></tr>
            <tr><td colspan="2"><img src="/images/leftfoot.png" alt=""
                width=155 height=41/></td></tr>


            </table>
        </td>

        <td id="content" >
        <div id="topmenu">

          <div id="textmenu">
           <a href='/contents'>Contents</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/topics'>Topics</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/names'>Names</a><span class="barlong">&#x00A0;</span><a href='/case/first'>First</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/case/150'>Previous</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/case/152'>Next</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/case/last'>Last</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/case/random'>Random</a><span class="barlong">&#x00A0;</span><a href='/about'>About</a>&nbsp;<span class="bar">&#x00b7;</span>&nbsp;<a href='/rss'><span class='tiny-rssr'></span></a><span class="barlong">&#x00A0;</span>        </div>
        <div id="tinymenu">

           <span class="menu-group">
                <a href='/contents' title='Contents'>^</a>           </span>

           <span class="menu-group">
                <a href='/case/first' title='First'>|<</a>                <a href='/case/150' title='Previous'><</a>                <a href='/case/152' title='Next'>></a>                <a href='/case/last' title='Last'>>|</a>                <a href='/case/random' title='Random'>&#x2683;</a>           </span>

           <span class="menu-group">
                <a href='/about' title='About'><i>i</i></a>                <a href='/rss'><span class='tiny-rssr'></span></a>           </span>

        </div>


        <div id="langmenu"><span class='trans-menu-button' id='caseLangMenu-button' style='position:relative'>
<span id='caseLangMenu' class='trans popup'>
<a class='nolink'><span class='trans-about'>English<br />Original text by Qi</span><span class='trans-lang'>EN</span></a>
<a href='/case/151?lang=es&trans=galcalde'><span class='trans-about'>Spanish / Español<br />Traducido por Gonzalo Alcalde</span><span class='trans-lang'>ES</span></a>
<a href='/case/151?lang=fr&trans=abelards'><span class='trans-about'>French / Français<br />Traduit par Sylvain Abélard</span><span class='trans-lang'>FR</span></a>
<a href='/case/151?lang=it&trans=alessandro1997'><span class='trans-about'>Italian / Italiano<br />Tradotto da Alessandro Desantis</span><span class='trans-lang'>IT</span></a>
<a href='/case/151?lang=ru&trans=smal'><span class='trans-about'>Russian / русский<br />Перевод Sergey Malenkov</span><span class='trans-lang'>RU</span></a>
</span>
<span class='tiny-trans' title='Translations' /></span>
</div>
    </div>



<div id="titles" ><div class='case-geekiness'>moderately geeky&nbsp;&nbsp;<span style="cursor:help" onclick="DkPopUpGeekinessHelp()" title="moderately geeky"><img src="/images/geek2.png" alt="moderately geeky" width="28" height="11" border="0" /></span></div><h2 class="supertitle"><a class='subtle' href='/contents'>Case 151</a></h2><h1 class="title"><a class='subtle' href='/contents'>The Summer Scarf</a></h1></div><div id="contenttext" class="contenttext" >


<div class='story koan'><img src="/pages/case-151/hanging.jpg" alt="" title="Appropriately, this turned out to be one of my longer yarns." class="illus-right"/>


<p>Summer’s first week had arrived with pleasant warm winds, so
most of the Temple now took their meals and meditation
outdoors.  But Yíwen the Artist, who loved open spaces,
could not be found anywhere on the Temple grounds.  Her
roommate, the nun Hwídah, chose to investigate.</p>

<p>She finally found Yíwen weaving silently in one of the Temple’s
vacant rooms, a diligent spider toiling at center
of an immense web of fine gray yarn.  Its hundreds of cords
were being drawn from skeins scattered high and low around
the room.  Yíwen appeared to be making a scarf from all of
them at once.</p>

<p>“Winter is six months away,” said Hwídah.  “Explain.”</p>

<p>Yíwen strummed her hand gently across the cords.  “Each
shade of gray maps to a distinct whole number, in order of
value.  For zero I have chosen a color named ‘The Blackness
Before Time’. Thirty-one is ‘Charcoal Smudge’, sixty-three
is ‘Looming Thunderhead’, and so on, lighter and lighter, to
two-hundred-fifty-five: ‘Celestial Cloud White’.</p>

<p>“An impressive palette for such a modest seasonal
accessory,” said Hwídah.</p>

<p>Yíwen held up the scarf in her lap.  “This is no mere
garment.  The pattern represents the evolving states of an
array of numbers as they are sorted.  Each row represents
one step in the process, with its columns depicting the
numbers themselves.  See: at this end the gray
cords are in a salt-and-pepper jumble, but with each row
they grow progressively more orderly as the algorithm tells
me which cords to swap.  The final row’s columns will run
smoothly from black to white.”</p>

<p>“Yet I also see one thin glittering gold thread, and another
like ruby” said Hwídah.</p>

<p>Yíwen indicated a portion of the scarf with her fingernail.
“If the current step compares two elements, I place
knots of gold around the corresponding cords.  If it selects
a pivot value, I embellish that cord with ruby.  Thus the scarf
will have exactly as many rows as the sorting algorithm has
operations, and the aesthetics of the algorithm will be
revealed to the eye.”</p>

<p>“You are still seeking <a href='/case/132'>beauty in code</a>,” said
Hwídah.</p>

<p>“A thousand pardons, Hwídah, but that is not my sole
purpose,” said Yíwen.  “Are you, I wonder, familiar with the
novice monk recently brought onto my team?  His first task
was to ensure that a result set was ordered for display.
Yet he was ignorant of the built-in sorting utility,
so he implemented his own.”</p>

<p>“A most unfortunate waste of time,” said Hwídah.</p>

<p>“Your words are surprisingly apropos,” said Yíwen.  “For he chose
<a href="http://en.wikipedia.org/wiki/Bubblesort">Bubblesort</a>,
as we discovered in production when the application was given a
very large result set and took several minutes to render the page.”</p>

<p>“You appear to be using Bubblesort as the basis for your
pattern,” said Hwídah, squinting at the finished rows.</p>

<p>“Indeed!” said Yíwen.  “I have already completed a scarf using the built-in
<a href="http://en.wikipedia.org/wiki/Timsort">Timsort</a> algorithm.
It is about one-fourth of a meter wide by two meters long,
and I will enjoy wearing it.  This Bubblesort scarf is a gift
for the monk.  It will have the same width, but it will
be somewhat more... ungainly.”</p>

<p>“It will be sixty-four meters long!” exclaimed Hwídah.</p>

<p>“Now you understand why I must begin in June,” said
Yíwen.  “As you observed, winter is only six months away.”</p>

<p>“And what will happen if the monk refuses to wear your
generous gift?” asked Hwidah.</p>

<p>“The same as if he fails to correct his ignorance,” said Yíwen.
She rolled the scarf into a thin tube and yanked the ends
to show its strength.  “Sixty-four meters makes for a
clumsy scarf, but an excellent noose.”
</p>

</div><div class='footerTags'><span class='footerTagsPrompt'>Topics</span>... &nbsp;<span class='footerTagList'><a href='/topics/sorting'>sorting</a>, <a href='/topics/efficiency'>efficiency</a>, <a href='/topics/reuse'>reuse</a>, <a href='/topics/art'>art</a></span></div>
          <div id="copyright">

<p>
An excerpt from <i><a href='/contents'>The Codeless Code</a></i>, by Qi (<a href='mailto:qi@thecodelesscode.com'>qi@thecodelesscode.com</a>).</p>

<p>
     Provided under the      <a href="http://creativecommons.org/licenses/by-nc/3.0/"
      >Creative Commons Attribution-NonCommercial 3.0 Unported License.</a>
</p>


<div class='credits'><p><span class='star'>*</span>Inspired in part by the <a href="http://sortvis.org">excellent "weave" sorting visualizations</a> done by <a href="http://corte.si/">Aldo Cortesi</a>.  And thanks to Sweet Tea Dorminy for pointing out the typo!</p></div>
            </div>

          </div>  <!-- #contenttext -->
        </td>  <!-- #content -->
      </tr>  <!-- #bodyrow -->
    </table>  <!-- #bodytable -->
  <div id="img_preload" style="display:none"><div style='display:none'><img src='/images/home.png'/><img src='/images/home-hover.png'/><img src='/images/home-link.png'/></div><div style='display:none'><img src='/images/prev.png'/><img src='/images/prev-hover.png'/><img src='/images/prev-link.png'/></div><div style='display:none'><img src='/images/next.png'/><img src='/images/next-hover.png'/><img src='/images/next-link.png'/></div><div style='display:none'><img src='/images/random.png'/><img src='/images/random-hover.png'/><img src='/images/random-link.png'/></div><div style='display:none'><img src='/images/tcc-case-title.png'/><img src='/images/tcc-case-title-hover.png'/><img src='/images/tcc-case-title-link.png'/></div><div style='display:none'><img src='/images/casemenuitem.png'/></div><div style='display:none'><img src='/images/casemenuitem-hover.png'/></div><div style='display:none'><img src='/images/casemenuitem-here.png'/></div><div style='display:none'><img src='/images/casemenuitem-help.png'/></div></div>
  </body>
</html>


